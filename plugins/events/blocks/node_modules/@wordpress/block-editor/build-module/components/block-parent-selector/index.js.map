{"version":3,"sources":["@wordpress/block-editor/src/components/block-parent-selector/index.js"],"names":["getBlockType","store","blocksStore","ToolbarButton","useSelect","useDispatch","__","sprintf","BlockIcon","BlockParentSelector","selectBlock","select","getBlockName","getBlockParents","getSelectedBlockClientId","hasBlockSupport","selectedBlockClientId","parents","_firstParentClientId","length","parentBlockName","_parentBlockType","parentBlockType","firstParentClientId","shouldHide","undefined","title","icon"],"mappings":";;AAAA;AACA;AACA;AACA,SAASA,YAAT,EAAuBC,KAAK,IAAIC,WAAhC,QAAmD,mBAAnD;AACA,SAASC,aAAT,QAA8B,uBAA9B;AACA,SAASC,SAAT,EAAoBC,WAApB,QAAuC,iBAAvC;AACA,SAASC,EAAT,EAAaC,OAAb,QAA4B,iBAA5B;AAEA;AACA;AACA;;AACA,OAAOC,SAAP,MAAsB,eAAtB;AAEA;AACA;AACA;AACA;AACA;AACA;;AACA,eAAe,SAASC,mBAAT,GAA+B;AAAA,qBACrBJ,WAAW,CAAE,mBAAF,CADU;AAAA,MACrCK,WADqC,gBACrCA,WADqC;;AAAA,mBAEgBN,SAAS,CACrE,UAAEO,MAAF,EAAc;AAAA,kBAKTA,MAAM,CAAE,mBAAF,CALG;AAAA,QAEZC,YAFY,WAEZA,YAFY;AAAA,QAGZC,eAHY,WAGZA,eAHY;AAAA,QAIZC,wBAJY,WAIZA,wBAJY;;AAAA,mBAMeH,MAAM,CAAET,WAAF,CANrB;AAAA,QAMLa,eANK,YAMLA,eANK;;AAOb,QAAMC,qBAAqB,GAAGF,wBAAwB,EAAtD;AACA,QAAMG,OAAO,GAAGJ,eAAe,CAAEG,qBAAF,CAA/B;AACA,QAAME,oBAAoB,GAAGD,OAAO,CAAEA,OAAO,CAACE,MAAR,GAAiB,CAAnB,CAApC;AACA,QAAMC,eAAe,GAAGR,YAAY,CAAEM,oBAAF,CAApC;;AACA,QAAMG,gBAAgB,GAAGrB,YAAY,CAAEoB,eAAF,CAArC;;AACA,WAAO;AACNE,MAAAA,eAAe,EAAED,gBADX;AAENE,MAAAA,mBAAmB,EAAEL,oBAFf;AAGNM,MAAAA,UAAU,EAAE,CAAET,eAAe,CAC5BO,eAD4B,EAE5B,8BAF4B,EAG5B,IAH4B;AAHvB,KAAP;AASA,GAtBoE,EAuBrE,EAvBqE,CAFzB;AAAA,MAErCA,eAFqC,cAErCA,eAFqC;AAAA,MAEpBC,mBAFoB,cAEpBA,mBAFoB;AAAA,MAECC,UAFD,cAECA,UAFD;;AA4B7C,MAAKA,UAAL,EAAkB;AACjB,WAAO,IAAP;AACA;;AAED,MAAKD,mBAAmB,KAAKE,SAA7B,EAAyC;AACxC,WACC;AACC,MAAA,SAAS,EAAC,oCADX;AAEC,MAAA,GAAG,EAAGF;AAFP,OAIC,cAAC,aAAD;AACC,MAAA,SAAS,EAAC,4CADX;AAEC,MAAA,OAAO,EAAG;AAAA,eAAMb,WAAW,CAAEa,mBAAF,CAAjB;AAAA,OAFX;AAGC,MAAA,KAAK,EAAGhB,OAAO;AACd;AACAD,MAAAA,EAAE,CAAE,oBAAF,CAFY,EAGdgB,eAAe,CAACI,KAHF,CAHhB;AAQC,MAAA,WAAW,MARZ;AASC,MAAA,IAAI,EAAG,cAAC,SAAD;AAAW,QAAA,IAAI,EAAGJ,eAAe,CAACK;AAAlC;AATR,MAJD,CADD;AAkBA;;AAED,SAAO,IAAP;AACA","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { getBlockType, store as blocksStore } from '@wordpress/blocks';\nimport { ToolbarButton } from '@wordpress/components';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { __, sprintf } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport BlockIcon from '../block-icon';\n\n/**\n * Block parent selector component, displaying the hierarchy of the\n * current block selection as a single icon to \"go up\" a level.\n *\n * @return {WPComponent} Parent block selector.\n */\nexport default function BlockParentSelector() {\n\tconst { selectBlock } = useDispatch( 'core/block-editor' );\n\tconst { parentBlockType, firstParentClientId, shouldHide } = useSelect(\n\t\t( select ) => {\n\t\t\tconst {\n\t\t\t\tgetBlockName,\n\t\t\t\tgetBlockParents,\n\t\t\t\tgetSelectedBlockClientId,\n\t\t\t} = select( 'core/block-editor' );\n\t\t\tconst { hasBlockSupport } = select( blocksStore );\n\t\t\tconst selectedBlockClientId = getSelectedBlockClientId();\n\t\t\tconst parents = getBlockParents( selectedBlockClientId );\n\t\t\tconst _firstParentClientId = parents[ parents.length - 1 ];\n\t\t\tconst parentBlockName = getBlockName( _firstParentClientId );\n\t\t\tconst _parentBlockType = getBlockType( parentBlockName );\n\t\t\treturn {\n\t\t\t\tparentBlockType: _parentBlockType,\n\t\t\t\tfirstParentClientId: _firstParentClientId,\n\t\t\t\tshouldHide: ! hasBlockSupport(\n\t\t\t\t\tparentBlockType,\n\t\t\t\t\t'__experimentalParentSelector',\n\t\t\t\t\ttrue\n\t\t\t\t),\n\t\t\t};\n\t\t},\n\t\t[]\n\t);\n\n\tif ( shouldHide ) {\n\t\treturn null;\n\t}\n\n\tif ( firstParentClientId !== undefined ) {\n\t\treturn (\n\t\t\t<div\n\t\t\t\tclassName=\"block-editor-block-parent-selector\"\n\t\t\t\tkey={ firstParentClientId }\n\t\t\t>\n\t\t\t\t<ToolbarButton\n\t\t\t\t\tclassName=\"block-editor-block-parent-selector__button\"\n\t\t\t\t\tonClick={ () => selectBlock( firstParentClientId ) }\n\t\t\t\t\tlabel={ sprintf(\n\t\t\t\t\t\t/* translators: %s: Name of the block's parent. */\n\t\t\t\t\t\t__( 'Select parent (%s)' ),\n\t\t\t\t\t\tparentBlockType.title\n\t\t\t\t\t) }\n\t\t\t\t\tshowTooltip\n\t\t\t\t\ticon={ <BlockIcon icon={ parentBlockType.icon } /> }\n\t\t\t\t/>\n\t\t\t</div>\n\t\t);\n\t}\n\n\treturn null;\n}\n"]}